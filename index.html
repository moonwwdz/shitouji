<!DOCTYPE html>
<html lang="zh" class="no-js">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="css/jquery.jscrollpane.custom.css" />
	<link rel="stylesheet" type="text/css" href="css/bookblock.css" />
	<link rel="stylesheet" type="text/css" href="css/custom.css" />
	<script src="js/modernizr.custom.79639.js"></script>
	<link href="css/nehan.css" type="text/css" rel="stylesheet">
	<script src="js/nehan.js" type="text/javascript"></script>
</head>
<body>
<div id="container" class="container">

	<div class="menu-panel">
		<h3>Table of Contents</h3>
		<ul id="menu-toc" class="menu-toc">
			<li class="menu-toc-current"><a href="#item1">Self-destruction</a></li>
			<li><a href="#item2">Why we die</a></li>
			<li><a href="#item3">The honeymoon</a></li>
			<li><a href="#item4">A drawing joke</a></li>
			<li><a href="#item5">Commencing practice</a></li>
		</ul>

	</div>

	<div class="bb-custom-wrapper">
		<div id="bb-bookblock" class="bb-bookblock">
			<div class="bb-item" id="item1">
				<div class="content">
					<div class="scroller">
						<div id="result"></div>
					</div>
				</div>
			</div>
			<div class="bb-item" id="item2">
				<div class="content">
					<div class="scroller">
						<h2>Why we die</h2>

						<p><em>From <a href="http://www.gutenberg.org/ebooks/41595" target="_blank">"The Funny Side of Physic"</a> by A. D. Crabtre</em></p>
					</div>
				</div>
			</div>
			<div class="bb-item" id="item3">
				<div class="content">
					<div class="scroller">
						<h2>The honeymoon</h2>
						<p>The origin of the honeymoon is not generally known.</p>


						<p><em>From <a href="http://www.gutenberg.org/ebooks/41595" target="_blank">"The Funny Side of Physic"</a> by A. D. Crabtre</em></p>
					</div>
				</div>
			</div>
			<div class="bb-item" id="item4">
				<div class="content">
					<div class="scroller">
						<h2>A drawing joke</h2>
						<

						<p><em>From <a href="http://www.gutenberg.org/ebooks/41595" target="_blank">"The Funny Side of Physic"</a> by A. D. Crabtre</em></p>
					</div>
				</div>
			</div>
			<div class="bb-item" id="item5">
				<div class="content">
					<div class="scroller">
						<h2>Commencing practice</h2>
						<p>From that excellent work, "Scenes in the Practice of a New York Surgeon,"
							by Dr. E. H. Dixon, I copy, with some abbreviation, the following, which
							the author terms "Leaves from the Log-book of an Unfledged Æsculapian:"--</p>



						<p><em>From <a href="http://www.gutenberg.org/ebooks/41595" target="_blank">"The Funny Side of Physic"</a> by A. D. Crabtre</em></p>
					</div>
				</div>
			</div>
		</div>

		<nav>
			<span id="bb-nav-prev">&larr;</span>
			<span id="bb-nav-next">&rarr;</span>
		</nav>

		<span id="tblcontents" class="menu-button">Table of Contents</span>

	</div>

</div><!-- /container -->
<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/jquery.mousewheel.js"></script>
<script src="js/jquery.jscrollpane.min.js"></script>
<script src="js/jquerypp.custom.js"></script>
<script src="js/jquery.bookblock.js"></script>
<script src="js/page.js"></script>
<script>
    $(function() {

        Page.init();

    });
</script>

<script>
    var target = document.querySelector("#result");

    new Nehan.Document()
        .setStyles({
            "body":{
                flow:"tb-rl", // or "tb-rl"
                "font-size":20,
                width:window.screen.availWidth-150, // page width
                height:document.body.scrollHeight-250, // page height
				//margin:{start:"4em"}
            },
            "p.line":{
                margin:{after:"0.1em"} // use 'logical' property!!
            },
			"ruby rt":{
                color:"red"
			},
			"p.float-start":{
                "font-size":"15px",
				"color":"red",
				"font-weight":500,
				"margin-top":"10px",
				"padding":0
			}
        })
        .setContent([
    		"<p>说起孩子话来也奇怪，他说：‘女儿是水作的骨肉，<ruby>男人是泥作的骨肉。<rt>甲戌侧批：真千古奇文奇情。</rt></ruby>我见了女儿，我便清爽；见了男子，便觉浊臭逼人。<ruby>’你道好笑不好笑？将来色鬼无移了！”<rt>甲戌侧批：没有这一句，雨村如何罕然厉色，并后奇奇怪怪之论？</rt></ruby>雨村罕然厉色忙止道：“非也！可惜你们不知道这人来历。大约政老前辈也错以淫魔色鬼看待了。若非多读书识事，加以致知格物之功，悟道参玄之力，不能知也。子兴见他说得这样重大，忙请教其端。雨村道：“天地生人，除大仁大恶两种，余者皆无大异。若大仁者，则应运而生，大恶者，则应劫而生。运生世治，劫生世危。尧，舜，禹，汤，文，武，周，召，孔，孟，董，韩，周，程，张，朱，皆应运而生者。蚩尤，共工，桀，纣，始皇，王莽，曹操，桓温，安禄山，秦桧等，<ruby>皆应劫而生者。<rt>甲戌侧批：此亦略举大概几人而言。</rt></ruby></p>",
			"<p>雨村听了，笑道：“<ruby>可知我前言不谬。<rt>甲戌侧批：略一总住。</rt></ruby>你我方才所说的这几个人，都只怕是那正邪两赋而来一路之人，未可知也。”子兴道：“邪也罢，正也罢，只顾算别人家的帐，你也吃一杯酒才好。”雨村道：“正是，只顾说话，竟多吃了几杯。”子兴笑道：“说着别人家的闲话，<ruby>正好下酒，<rt>甲戌侧批：盖云此一段话亦为世人茶酒之笑谈耳。</rt></ruby>即多吃几杯何妨。”<ruby>雨村向窗外看<rt>甲戌侧批：画。</rt></ruby>道：“天也晚了，仔细关了城。我们慢慢的进城再谈，未为不可。”于是，二人起身，<ruby>算还酒帐。<rt>甲戌侧批：不得谓此处收得索然，盖原非正文也。</rt></ruby>　　方欲走时，又听得后面有人叫道：“雨村兄，恭喜了！特来报个喜信的。”<ruby>　　<rt>甲戌侧批：此等套头，亦不得不用。</rt></ruby></p>",
			"<p>文虽浅近，<ruby>其意则深。<rt>甲戌侧批：一部书之总批。</rt></ruby>我也曾游过些名山大刹，倒不曾见过这话头，<ruby>其中想必有个翻过筋斗来的亦未可知，<rt>甲戌侧批：随笔带出禅机，又为后文多少语录不落空。</rt></ruby>何不进去试试？想着走入，<ruby>只有一个龙钟老僧在那里煮粥。<rt>甲戌侧批：是雨村火气。</rt></ruby>雨村见了，<ruby>便不在意。<rt>甲戌侧批：火气。</rt></ruby>及至问他两句话，<ruby>那老僧既聋且昏，<rt>甲戌侧批：是翻过来的。</rt></ruby><ruby>齿落舌钝，<rt>甲戌侧批：是翻过来的。</rt></ruby>所答非所问。　　雨村不耐烦，<ruby>便仍出来，<rt>甲戌眉批：毕竟雨村还是俗眼，只能识得阿凤、宝玉、黛玉等未觉之先，却不识得既证之后。</rt></ruby>意欲到那村肆中沽饮三杯，以助野趣，于是款步行来，将入肆门，只见座上吃酒之客有一人起身大笑，接了出来，口内说：“奇遇，奇遇！”雨村忙看时，<ruby>此人是都中在古董行中贸易的号冷子兴者，<rt>甲戌侧批：此人不过借为引绳，不必细写。</rt></ruby>旧日在都相识。，面说，一面让雨村同席坐了，另整上酒肴来。二人闲谈漫饮，<ruby>叙些别后之事。<rt>甲戌侧批：好！若多谈则累赘。</rt></ruby>　　雨村因问：“<ruby>近日都中可有新闻没有？”<rt>甲戌侧批：不突然，亦常问常答之言。</rt></ruby>子兴道：“倒没有什么新闻，<ruby>倒是老先生你贵同宗家，<rt>甲戌侧批：雨村已无族中矣，何及此耶？看他下文。</rt></ruby>出了一件小小的异事。”雨村笑道：“弟族中无人在都，何谈及此？”子兴笑道：“你们同姓，岂非同宗一族？”雨村问是谁家。　　子兴道：“荣国府贾府中，<ruby>可也不玷辱了先生的门楣了？”<rt>甲戌侧批：刳小人之心肺，闻小人之口角。</rt></ruby></p>"
		].join("\n"))
        .render({
            // called for each page output.
            onPage: function(page, ctx){
                console.log("onPage:%o", page);
                // append generated page
                target.appendChild(page.element);
            },
            onComplete: function(time, ctx){
                // parsing complete, now you can get outline(toc) element.
                var outline = ctx.createOutlineElement({
                    onClickLink:function(toc, evt){
                        console.log("click %o", toc);
                    }
                });
                console.log("finished! %fmsec", time);
            }
        });
</script>
</body>
</html>
